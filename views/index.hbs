<div class="container">
  <div class="row">
    <div class="col-6 mx-auto">
      <div class="card card-body mt-5">
        <div class="d-flex justify-content-between">
          <form action="/filter" method="GET" class="mt-4 ms-2" style="width: 70%;">
            <select class="form-select mb-3" style="width: 70%;" aria-label=".form-filterSelect" name="filterSelect"
              onchange="submit()">
              <option value="" selected disabled>類別</option>
              {{#each categories}}
              <option {{#if this.isSelected}} selected {{/if}} value="{{ this.name }}">{{ this.name }}</option>
              {{/each}}
            </select>
          </form>
          <a href="/" class="btn btn-outline-dark mt-4 me-5" style="height: 2.5em;">回總覽</a>
        </div>

        <div class="mt-3 ms-1" style="font-size:24px;">總金額：</div>
        <div class="d-flex justify-content-center mb-3" style="font-size: 70px; color:rgb(255, 115, 0)"> {{ totalAmount
          }} </div>
        <table class="table table-hover table-striped">
          <thead class="table-dark">
            <tr>
              <th scope="col">Category</th>
              <th scope="col">Name</th>
              <th scope="col">Date</th>
              <th scope="col">Amount</th>
              <th scope="col">Edit</th>
              <th scope="col" style="width: 20%;">Delete</th>
            </tr>
          </thead>
          <tbody>
            {{#each finalRecords}}
            <tr>
              <td><i class="{{ this.categoryId.icon }} mt-2 ms-3" style="transform: scale(2.5);"></i></td>
              <td class="mt-3">{{ this.name }}</td>
              <td class="mt-3">{{ this.date }}</td>
              <td class="mt-3">{{ this.amount }}</td>
              <td><a href="/records/{{ this._id }}/edit" class="btn btn-outline-success">Edit</a></td>
              <td>
                <form action="/records/{{ this._id}}?_method=DELETE" method="POST">
                  <button type="submit" class="btn btn-outline-danger" style="width: 78%;">Delete</button>
                </form>
              </td>
            </tr>
            {{/each}}
          </tbody>
        </table>
        <div class="d-flex justify-content-center mt-3">
          <a href="/records/new" class="btn mt-3 w-50"
            style="font-size: 1.2em;background-color:rgb(255, 132, 0); color:white">新增支出</a>
        </div>

      </div>
    </div>
  </div>
</div>